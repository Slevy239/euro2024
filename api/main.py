from flask import Flask, jsonify
from flask_cors import CORS
import http.client
import json
import keys
from prettytable import PrettyTable

app = Flask(__name__)
CORS(app)  # Enable CORS for all routes


@app.route('/fixtures', methods=['GET'])
def get_fixtures():
    conn = http.client.HTTPSConnection("v3.football.api-sports.io")

    headers = {
        'x-rapidapi-host': "v3.football.api-sports.io",
        'x-rapidapi-key': keys.API_KEY
    }
    # world_matches = [{'league': {'id': 9, 'name': 'Copa America', 'country': 'World', 'logo': 'https://media.api-sports.io/football/leagues/9.png', 'flag': None, 'season': 2024, 'round': 'Group Stage - 2'}, 'teams': {'home': {'id': 2382, 'name': 'Ecuador', 'logo': 'https://media.api-sports.io/football/teams/2382.png', 'winner': True}, 'away': {'id': 2385, 'name': 'Jamaica', 'logo': 'https://media.api-sports.io/football/teams/2385.png', 'winner': False}}, 'goals': {'home': 1, 'away': 0}, 'score': {'halftime': {'home': 1, 'away': 0}, 'fulltime': {'home': None, 'away': None}, 'extratime': {'home': None, 'away': None}, 'penalty': {'home': None, 'away': None}}, 'events': [{'time': {'elapsed': 13, 'extra': None}, 'team': {'id': 2382, 'name': 'Ecuador', 'logo': 'https://media.api-sports.io/football/teams/2382.png'}, 'player': {'id': 19274, 'name': 'K. Palmer'}, 'assist': {'id': None, 'name': None}, 'type': 'Goal', 'detail': 'Own Goal', 'comments': None}, {'time': {'elapsed': 39, 'extra': None}, 'team': {'id': 2385, 'name': 'Jamaica', 'logo': 'https://media.api-sports.io/football/teams/2385.png'}, 'player': {'id': 57245, 'name': 'D. Lowe'}, 'assist': {'id': None, 'name': None}, 'type': 'Card', 'detail': 'Yellow Card', 'comments': 'Tripping'}]}, {'league': {'id': 909, 'name': 'MLS Next Pro', 'country': 'USA', 'logo': 'https://media.api-sports.io/football/leagues/909.png', 'flag': 'https://media.api-sports.io/flags/us.svg', 'season': 2024, 'round': 'Regular Season - 20'}, 'teams': {'home': {'id': 3988, 'name': 'Bethlehem Steel', 'logo': 'https://media.api-sports.io/football/teams/3988.png', 'winner': False}, 'away': {'id': 4004, 'name': 'New York RB II', 'logo': 'https://media.api-sports.io/football/teams/4004.png', 'winner': True}}, 'goals': {'home': 0, 'away': 2}, 'score': {'halftime': {'home': 0, 'away': 2}, 'fulltime': {'home': None, 'away': None}, 'extratime': {'home': None, 'away': None}, 'penalty': {'home': None, 'away': None}}, 'events': [{'time': {'elapsed': 5, 'extra': None}, 'team': {'id': 4004, 'name': 'New York RB II', 'logo': 'https://media.api-sports.io/football/teams/4004.png'}, 'player': {'id': 403868, 'name': 'F. Ssebuufu'}, 'assist': {'id': None, 'name': 'M. Dembele'}, 'type': 'Goal', 'detail': 'Normal Goal', 'comments': None}, {'time': {'elapsed': 29, 'extra': None}, 'team': {'id': 4004, 'name': 'New York RB II', 'logo': 'https://media.api-sports.io/football/teams/4004.png'}, 'player': {'id': 288470, 'name': 'C. Rojas'}, 'assist': {'id': None, 'name': None}, 'type': 'Goal', 'detail': 'Own Goal', 'comments': None}, {'time': {'elapsed': 41, 'extra': None}, 'team': {'id': 3988, 'name': 'Bethlehem Steel', 'logo': 'https://media.api-sports.io/football/teams/3988.png'}, 'player': {'id': 409142, 'name': 'G. Sequera'}, 'assist': {'id': None, 'name': None}, 'type': 'Card', 'detail': 'Yellow Card', 'comments': None}]}, {'league': {'id': 71, 'name': 'Serie A', 'country': 'Brazil', 'logo': 'https://media.api-sports.io/football/leagues/71.png', 'flag': 'https://media.api-sports.io/flags/br.svg', 'season': 2024, 'round': 'Regular Season - 12'}, 'teams': {'home': {'id': 135, 'name': 'Cruzeiro', 'logo': 'https://media.api-sports.io/football/teams/135.png', 'winner': True}, 'away': {'id': 134, 'name': 'Atletico Paranaense', 'logo': 'https://media.api-sports.io/football/teams/134.png', 'winner': False}}, 'goals': {'home': 1, 'away': 0}, 'score': {'halftime': {'home': 1, 'away': 0}, 'fulltime': {'home': None, 'away': None}, 'extratime': {'home': None, 'away': None}, 'penalty': {'home': None, 'away': None}}, 'events': [{'time': {'elapsed': 15, 'extra': None}, 'team': {'id': 135, 'name': 'Cruzeiro', 'logo': 'https://media.api-sports.io/football/teams/135.png'}, 'player': {'id': 180235, 'name': 'Gabriel Veron'}, 'assist': {'id': 25618, 'name': 'Matheus Pereira'}, 'type': 'Goal', 'detail': 'Normal Goal', 'comments': None}]}, {'league': {'id': 71, 'name': 'Serie A', 'country': 'Brazil', 'logo': 'https://media.api-sports.io/football/leagues/71.png', 'flag': 'https://media.api-sports.io/flags/br.svg', 'season': 2024, 'round': 'Regular Season - 12'}, 'teams': {'home': {'id': 120, 'name': 'Botafogo', 'logo': 'https://media.api-sports.io/football/teams/120.png', 'winner': None}, 'away': {'id': 794, 'name': 'RB Bragantino', 'logo': 'https://media.api-sports.io/football/teams/794.png', 'winner': None}}, 'goals': {'home': 1, 'away': 1}, 'score': {'halftime': {'home': 1, 'away': 1}, 'fulltime': {'home': None, 'away': None}, 'extratime': {'home': None, 'away': None}, 'penalty': {'home': None, 'away': None}}, 'events': [{'time': {'elapsed': 6, 'extra': None}, 'team': {'id': 794, 'name': 'RB Bragantino', 'logo': 'https://media.api-sports.io/football/teams/794.png'}, 'player': {'id': 21095, 'name': 'Lucas Evangelista'}, 'assist': {'id': 9965, 'name': 'Helinho'}, 'type': 'Goal', 'detail': 'Normal Goal', 'comments': None}, {'time': {'elapsed': 21, 'extra': None}, 'team': {'id': 120, 'name': 'Botafogo', 'logo': 'https://media.api-sports.io/football/teams/120.png'}, 'player': {'id': 44348, 'name': 'Carlos Eduardo'}, 'assist': {'id': 390, 'name': 'Tiquinho Soares'}, 'type': 'Goal', 'detail': 'Normal Goal', 'comments': None}, {'time': {'elapsed': 45, 'extra': 1}, 'team': {'id': 120, 'name': 'Botafogo', 'logo': 'https://media.api-sports.io/football/teams/120.png'}, 'player': {'id': 652, 'name': 'Marcal'}, 'assist': {'id': None, 'name': None}, 'type': 'Card', 'detail': 'Yellow Card', 'comments': 'Unsportsmanlike conduct'}, {'time': {'elapsed': 45, 'extra': 1}, 'team': {'id': 794, 'name': 'RB Bragantino', 'logo': 'https://media.api-sports.io/football/teams/794.png'}, 'player': {'id': 9965, 'name': 'Helinho'}, 'assist': {'id': None, 'name': None}, 'type': 'Card', 'detail': 'Yellow Card', 'comments': 'Unsportsmanlike conduct'}]}, {'league': {'id': 75, 'name': 'Serie C', 'country': 'Brazil', 'logo': 'https://media.api-sports.io/football/leagues/75.png', 'flag': 'https://media.api-sports.io/flags/br.svg', 'season': 2024, 'round': 'Regular Season - 10'}, 'teams': {'home': {'id': 155, 'name': 'Sampaio Correa', 'logo': 'https://media.api-sports.io/football/teams/155.png', 'winner': True}, 'away': {'id': 13975, 'name': 'Athletic Club', 'logo': 'https://media.api-sports.io/football/teams/13975.png', 'winner': False}}, 'goals': {'home': 3, 'away': 0}, 'score': {'halftime': {'home': 3, 'away': 0}, 'fulltime': {'home': None, 'away': None}, 'extratime': {'home': None, 'away': None}, 'penalty': {'home': None, 'away': None}}, 'events': [{'time': {'elapsed': 7, 'extra': None}, 'team': {'id': 155, 'name': 'Sampaio Correa', 'logo': 'https://media.api-sports.io/football/teams/155.png'}, 'player': {'id': 54028, 'name': 'Pimentinha'}, 'assist': {'id': None, 'name': None}, 'type': 'Goal', 'detail': 'Normal Goal', 'comments': None}, {'time': {'elapsed': 23, 'extra': None}, 'team': {'id': 155, 'name': 'Sampaio Correa', 'logo': 'https://media.api-sports.io/football/teams/155.png'}, 'player': {'id': 304070, 'name': 'Gazao'}, 'assist': {'id': None, 'name': None}, 'type': 'Card', 'detail': 'Yellow Card', 'comments': None}, {'time': {'elapsed': 26, 'extra': None}, 'team': {'id': 155, 'name': 'Sampaio Correa', 'logo': 'https://media.api-sports.io/football/teams/155.png'}, 'player': {'id': 353842, 'name': 'Gabriel Silva'}, 'assist': {'id': None, 'name': None}, 'type': 'Goal', 'detail': 'Normal Goal', 'comments': None}, {'time': {'elapsed': 38, 'extra': None}, 'team': {'id': 155, 'name': 'Sampaio Correa', 'logo': 'https://media.api-sports.io/football/teams/155.png'}, 'player': {'id': 54028, 'name': 'Pimentinha'}, 'assist': {'id': None, 'name': None}, 'type': 'Goal', 'detail': 'Normal Goal', 'comments': None}]}, {'league': {'id': 76, 'name': 'Serie D', 'country': 'Brazil', 'logo': 'https://media.api-sports.io/football/leagues/76.png', 'flag': 'https://media.api-sports.io/flags/br.svg', 'season': 2024, 'round': '1st Phase - 10'}, 'teams': {'home': {'id': 1207, 'name': 'ASA', 'logo': 'https://media.api-sports.io/football/teams/1207.png', 'winner': None}, 'away': {'id': 1224, 'name': 'Juazeirense', 'logo': 'https://media.api-sports.io/football/teams/1224.png', 'winner': None}}, 'goals': {'home': 0, 'away': 0}, 'score': {'halftime': {'home': 0, 'away': 0}, 'fulltime': {'home': None, 'away': None}, 'extratime': {'home': None, 'away': None}, 'penalty': {'home': None, 'away': None}}, 'events': []}, {'league': {'id': 478, 'name': 'Gaúcho - 2', 'country': 'Brazil', 'logo': 'https://media.api-sports.io/football/leagues/478.png', 'flag': 'https://media.api-sports.io/flags/br.svg', 'season': 2024, 'round': '1st Phase - 8'}, 'teams': {'home': {'id': 10042, 'name': 'Esportivo', 'logo': 'https://media.api-sports.io/football/teams/10042.png', 'winner': None}, 'away': {'id': 10047, 'name': 'Glória', 'logo': 'https://media.api-sports.io/football/teams/10047.png', 'winner': None}}, 'goals': {'home': 0, 'away': 0}, 'score': {'halftime': {'home': 0, 'away': 0}, 'fulltime': {'home': None, 'away': None}, 'extratime': {'home': None, 'away': None}, 'penalty': {'home': None, 'away': None}}, 'events': []}, {'league': {'id': 613, 'name': 'Baiano - 2', 'country': 'Brazil', 'logo': 'https://media.api-sports.io/football/leagues/613.png', 'flag': 'https://media.api-sports.io/flags/br.svg', 'season': 2024, 'round': 'Regular Season - 5'}, 'teams': {'home': {'id': 1225, 'name': 'Vitoria Da Conquista', 'logo': 'https://media.api-sports.io/football/teams/1225.png', 'winner': None}, 'away': {'id': 23591, 'name': 'Porto BA', 'logo': 'https://media.api-sports.io/football/teams/23591.png', 'winner': None}}, 'goals': {'home': 1, 'away': 1}, 'score': {'halftime': {'home': 1, 'away': 1}, 'fulltime': {'home': None, 'away': None}, 'extratime': {'home': None, 'away': None}, 'penalty': {'home': None, 'away': None}}, 'events': [{'time': {'elapsed': 4, 'extra': None}, 'team': {'id': 23591, 'name': 'Porto BA', 'logo': 'https://media.api-sports.io/football/teams/23591.png'}, 'player': {'id': None, 'name': None}, 'assist': {'id': None, 'name': None}, 'type': 'Goal', 'detail': 'Normal Goal', 'comments': None}, {'time': {'elapsed': 38, 'extra': None}, 'team': {'id': 1225, 'name': 'Vitoria Da Conquista', 'logo': 'https://media.api-sports.io/football/teams/1225.png'}, 'player': {'id': None, 'name': None}, 'assist': {'id': None, 'name': None}, 'type': 'Goal', 'detail': 'Normal Goal', 'comments': None}]}, {'league': {'id': 613, 'name': 'Baiano - 2', 'country': 'Brazil', 'logo': 'https://media.api-sports.io/football/leagues/613.png', 'flag': 'https://media.api-sports.io/flags/br.svg', 'season': 2024, 'round': 'Regular Season - 5'}, 'teams': {'home': {'id': 12301, 'name': 'Feirense', 'logo': 'https://media.api-sports.io/football/teams/12301.png', 'winner': False}, 'away': {'id': 1200, 'name': 'Fluminense De Feira', 'logo': 'https://media.api-sports.io/football/teams/1200.png', 'winner': True}}, 'goals': {'home': 0, 'away': 1}, 'score': {'halftime': {'home': 0, 'away': 1}, 'fulltime': {'home': None, 'away': None}, 'extratime': {'home': None, 'away': None}, 'penalty': {'home': None, 'away': None}}, 'events': [{'time': {'elapsed': 13, 'extra': None}, 'team': {'id': 1200, 'name': 'Fluminense De Feira', 'logo': 'https://media.api-sports.io/football/teams/1200.png'}, 'player': {'id': 54025, 'name': 'Elielton'}, 'assist': {'id': None, 'name': None}, 'type': 'Goal', 'detail': 'Normal Goal', 'comments': None}]}, {'league': {'id': 75, 'name': 'Serie C', 'country': 'Brazil', 'logo': 'https://media.api-sports.io/football/leagues/75.png', 'flag': 'https://media.api-sports.io/flags/br.svg', 'season': 2024, 'round': 'Regular Season - 6'}, 'teams': {'home': {'id': 2227, 'name': 'Tombense', 'logo': 'https://media.api-sports.io/football/teams/2227.png', 'winner': True}, 'away': {'id': 7770, 'name': 'Caxias', 'logo': 'https://media.api-sports.io/football/teams/7770.png', 'winner': False}}, 'goals': {'home': 2, 'away': 1}, 'score': {'halftime': {'home': 0, 'away': 0}, 'fulltime': {'home': None, 'away': None}, 'extratime': {'home': None, 'away': None}, 'penalty': {'home': None, 'away': None}}, 'events': [{'time': {'elapsed': 46, 'extra': None}, 'team': {'id': 2227, 'name': 'Tombense', 'logo': 'https://media.api-sports.io/football/teams/2227.png'}, 'player': {'id': 398159, 'name': 'Felipinho'}, 'assist': {'id': 9580, 'name': 'Kaio Mendes'}, 'type': 'subst', 'detail': 'Substitution 1', 'comments': None}, {'time': {'elapsed': 47, 'extra': None}, 'team': {'id': 2227, 'name': 'Tombense', 'logo': 'https://media.api-sports.io/football/teams/2227.png'}, 'player': {'id': 237668, 'name': 'Igor Bahia'}, 'assist': {'id': None, 'name': None}, 'type': 'Goal', 'detail': 'Normal Goal', 'comments': None}, {'time': {'elapsed': 52, 'extra': None}, 'team': {'id': 7770, 'name': 'Caxias', 'logo': 'https://media.api-sports.io/football/teams/7770.png'}, 'player': {'id': 363806, 'name': 'Cezar'}, 'assist': {'id': None, 'name': None}, 'type': 'Card', 'detail': 'Yellow Card', 'comments': None}, {'time': {'elapsed': 53, 'extra': None}, 'team': {'id': 7770, 'name': 'Caxias', 'logo': 'https://media.api-sports.io/football/teams/7770.png'}, 'player': {'id': 67248, 'name': 'Emerson Martins'}, 'assist': {'id': None, 'name': None}, 'type': 'Card', 'detail': 'Yellow Card', 'comments': None}, {'time': {'elapsed': 54, 'extra': None}, 'team': {'id': 2227, 'name': 'Tombense', 'logo': 'https://media.api-sports.io/football/teams/2227.png'}, 'player': {'id': 237668, 'name': 'Igor Bahia'}, 'assist': {'id': None, 'name': None}, 'type': 'Goal', 'detail': 'Penalty', 'comments': None}, {'time': {'elapsed': 62, 'extra': None}, 'team': {'id': 7770, 'name': 'Caxias', 'logo': 'https://media.api-sports.io/football/teams/7770.png'}, 'player': {'id': 9357, 'name': 'Elyeser'}, 'assist': {'id': 402002, 'name': 'Pedro Cuiaba'}, 'type': 'subst', 'detail': 'Substitution 1', 'comments': None}, {'time': {'elapsed': 62, 'extra': None}, 'team': {'id': 7770, 'name': 'Caxias', 'logo': 'https://media.api-sports.io/football/teams/7770.png'}, 'player': {'id': 354056, 'name': 'Lucas Ryan'}, 'assist': {'id': 363806, 'name': 'Cezar'}, 'type': 'subst', 'detail': 'Substitution 2', 'comments': None}, {'time': {'elapsed': 64, 'extra': None}, 'team': {'id': 2227, 'name': 'Tombense', 'logo': 'https://media.api-sports.io/football/teams/2227.png'}, 'player': {'id': 10451, 'name': 'Rony Fernandes'}, 'assist': {'id': None, 'name': None}, 'type': 'Card', 'detail': 'Yellow Card', 'comments': None}, {'time': {'elapsed': 68, 'extra': None}, 'team': {'id': 2227, 'name': 'Tombense', 'logo': 'https://media.api-sports.io/football/teams/2227.png'}, 'player': {'id': 237689, 'name': 'Mikael'}, 'assist': {'id': None, 'name': None}, 'type': 'Card', 'detail': 'Yellow Card', 'comments': None}, {'time': {'elapsed': 69, 'extra': None}, 'team': {'id': 7770, 'name': 'Caxias', 'logo': 'https://media.api-sports.io/football/teams/7770.png'}, 'player': {'id': 77789, 'name': 'Tomas Bastos'}, 'assist': {'id': None, 'name': None}, 'type': 'Goal', 'detail': 'Normal Goal', 'comments': None}, {'time': {'elapsed': 76, 'extra': None}, 'team': {'id': 7770, 'name': 'Caxias', 'logo': 'https://media.api-sports.io/football/teams/7770.png'}, 'player': {'id': 54710, 'name': 'Robinho'}, 'assist': {'id': 119744, 'name': 'Augusto Galvan'}, 'type': 'subst', 'detail': 'Substitution 3', 'comments': None}, {'time': {'elapsed': 82, 'extra': None}, 'team': {'id': 2227, 'name': 'Tombense', 'logo': 'https://media.api-sports.io/football/teams/2227.png'}, 'player': {'id': 10412, 'name': 'Roger Carvalho'}, 'assist': {'id': None, 'name': None}, 'type': 'Card', 'detail': 'Yellow Card', 'comments': None}, {'time': {'elapsed': 83, 'extra': None}, 'team': {'id': 7770, 'name': 'Caxias', 'logo': 'https://media.api-sports.io/football/teams/7770.png'}, 'player': {'id': 54710, 'name': 'Robinho'}, 'assist': {'id': 64041, 'name': 'Yuri Ferraz'}, 'type': 'subst', 'detail': 'Substitution 4', 'comments': None}, {'time': {'elapsed': 83, 'extra': None}, 'team': {'id': 7770, 'name': 'Caxias', 'logo': 'https://media.api-sports.io/football/teams/7770.png'}, 'player': {'id': 80162, 'name': 'Vitor Feijao'}, 'assist': {'id': None, 'name': None}, 'type': 'Card', 'detail': 'Yellow Card', 'comments': None}, {'time': {'elapsed': 84, 'extra': None}, 'team': {'id': 2227, 'name': 'Tombense', 'logo': 'https://media.api-sports.io/football/teams/2227.png'}, 'player': {'id': 398159, 'name': 'Felipinho'}, 'assist': {'id': None, 'name': None}, 'type': 'Card', 'detail': 'Yellow Card', 'comments': None}, {'time': {'elapsed': 87, 'extra': None}, 'team': {'id': 2227, 'name': 'Tombense', 'logo': 'https://media.api-sports.io/football/teams/2227.png'}, 'player': {'id': 457903, 'name': 'Joao Vitor'}, 'assist': {'id': None, 'name': None}, 'type': 'Card', 'detail': 'Yellow Card', 'comments': None}, {'time': {'elapsed': 87, 'extra': None}, 'team': {'id': 2227, 'name': 'Tombense', 'logo': 'https://media.api-sports.io/football/teams/2227.png'}, 'player': {'id': 457903, 'name': 'Joao Vitor'}, 'assist': {'id': 223253, 'name': 'Pierre'}, 'type': 'subst', 'detail': 'Substitution 2', 'comments': None}]}, {'league': {'id': 76, 'name': 'Serie D', 'country': 'Brazil', 'logo': 'https://media.api-sports.io/football/leagues/76.png', 'flag': 'https://media.api-sports.io/flags/br.svg', 'season': 2024, 'round': '1st Phase - 10'}, 'teams': {'home': {'id': 15617, 'name': 'Fluminense PI', 'logo': 'https://media.api-sports.io/football/teams/15617.png', 'winner': True}, 'away': {'id': 1203, 'name': 'Altos', 'logo': 'https://media.api-sports.io/football/teams/1203.png', 'winner': False}}, 'goals': {'home': 1, 'away': 0}, 'score': {'halftime': {'home': 1, 'away': 0}, 'fulltime': {'home': None, 'away': None}, 'extratime': {'home': None, 'away': None}, 'penalty': {'home': None, 'away': None}}, 'events': [{'time': {'elapsed': 38, 'extra': None}, 'team': {'id': 15617, 'name': 'Fluminense PI', 'logo': 'https://media.api-sports.io/football/teams/15617.png'}, 'player': {'id': None, 'name': 'Kiko'}, 'assist': {'id': None, 'name': None}, 'type': 'Goal', 'detail': 'Normal Goal', 'comments': None}]}, {'league': {'id': 478, 'name': 'Gaúcho - 2', 'country': 'Brazil', 'logo': 'https://media.api-sports.io/football/leagues/478.png', 'flag': 'https://media.api-sports.io/flags/br.svg', 'season': 2024, 'round': '1st Phase - 6'}, 'teams': {'home': {'id': 7767, 'name': 'Aimoré', 'logo': 'https://media.api-sports.io/football/teams/7767.png', 'winner': None}, 'away': {'id': 21233, 'name': 'Monsoon', 'logo': 'https://media.api-sports.io/football/teams/21233.png', 'winner': None}}, 'goals': {'home': 0, 'away': 0}, 'score': {'halftime': {'home': 0, 'away': 0}, 'fulltime': {'home': None, 'away': None}, 'extratime': {'home': None, 'away': None}, 'penalty': {'home': None, 'away': None}}, 'events': []}, {'league': {'id': 742, 'name': 'Copa Paulista', 'country': 'Brazil', 'logo': 'https://media.api-sports.io/football/leagues/742.png', 'flag': 'https://media.api-sports.io/flags/br.svg', 'season': 2024, 'round': '1st Round - 2'}, 'teams': {'home': {'id': 22210, 'name': 'Mirassol B', 'logo': 'https://media.api-sports.io/football/teams/22210.png', 'winner': False}, 'away': {'id': 2230, 'name': 'Votuporanguense', 'logo': 'https://media.api-sports.io/football/teams/2230.png', 'winner': True}}, 'goals': {'home': 0, 'away': 2}, 'score': {'halftime': {'home': 0, 'away': 2}, 'fulltime': {'home': None, 'away': None}, 'extratime': {'home': None, 'away': None}, 'penalty': {'home': None, 'away': None}}, 'events': [{'time': {'elapsed': 24, 'extra': None}, 'team': {'id': 2230, 'name': 'Votuporanguense', 'logo': 'https://media.api-sports.io/football/teams/2230.png'}, 'player': {'id': 61817, 'name': 'Bady'}, 'assist': {'id': None, 'name': None}, 'type': 'Goal', 'detail': 'Normal Goal', 'comments': None}, {'time': {'elapsed': 33, 'extra': None}, 'team': {'id': 2230, 'name': 'Votuporanguense', 'logo': 'https://media.api-sports.io/football/teams/2230.png'}, 'player': {'id': None, 'name': 'Vinicius Bala'}, 'assist': {'id': None, 'name': None}, 'type': 'Goal', 'detail': 'Normal Goal', 'comments': None}]}]

    conn.request("GET", "/fixtures?live=all", headers=headers)
    res = conn.getresponse()
    data = res.read()
    response_dict = json.loads(data)
    world_matches = []

    for i in range(len(response_dict['response'])):
        match_data = {
            'league': response_dict['response'][i]['league'],
            'teams': response_dict['response'][i]['teams'],
            'goals': response_dict['response'][i]['goals'],
            'score': response_dict['response'][i]['score'],
            'events': response_dict['response'][i]['events']
        }
        world_matches.append(match_data)
    return jsonify(world_matches)


if __name__ == '__main__':
    app.run(debug=True)
